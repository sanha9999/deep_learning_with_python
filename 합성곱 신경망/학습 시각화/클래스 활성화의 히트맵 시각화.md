# 클래스 활성화의 히트맵 시각화
------------------------------
>  이 방법은 이미지의 어느 부분이 컨브넷의 최종 분류 결정에 기여하는지 이해하는 데 유용하다. 분류에 실수가 있을 경우 컨브넷의 결정과정을 디버깅하는데 도움이 된다. 또 이미지에 특정 물체가 있는 위치를 파악하는데 사용할 수도 있다. 이러한 기법의 종류를 일반적으로 **클래스 활성화 맵(Class Activation Map, CAM)** 시각화 라고 부른다.
> #### 클래스 활성화 히트맵은 특정 출력 글래스에 대해 입력 이미지의 모든 위치를 계산한 2D 점수 그리드 이다.
-----------------------
> 여기서 사용할 구체적인 구현은 "Grad-CAM: Visual Explanations from Deep Networks via Gradient-based Localizations"에 기술되어 있는 것으로, 방법은 매우 간단하다.
* 입력 이미지가 주어지면 합성곱 층에 있는 특성 맵의 출력을 추출한다.
* 특성 맵의 모든 채널 출력에 채널에 대한 클래스의 그래디언트 평균을 곱한다.
> 그니까 '입력이미지가 각 채널을 활성화하는 정도'에 대한 공간적인 맵을 '클래스에 대한 각 채널의 중요도'로 가중치를 부여하여 '입력 이미지가 클래스를 활성화하는 정도'에 대한 공간적인 맵을 만드는 것이다.
------------------------
> ### 요약
* 컨브넷은 시각적인 분류문제를 다루는데 최상의 도구이다.
* 컨브넷은 우리가 보는 세상을 표현하기 위한 패턴의 계층구조와 개념을 학습한다.
* 학습된 표현을 시각화하여 분석할 수 있다.
* 이미지 분류 문제를 풀기 위해 자신만의 컨브넷을 처음부터 훈련시킬 수 있다.
* 과대적합을 줄이기 위해 데이터를 증식하는 법을 알았다.
* 사전 훈련된 컨브넷을 사용하여 특성 추출과 미세 조정하는 법을 알았다.
* 클래스 활성화 히트맵을 포함하여 컨브넷이 학습한 필터를 시각화할 수 있다.

---------------
## 이 짜증나는 AttributeError: 'KerasTensor' object has no attribute '_id' 에러와 K.gradients가 왜 계속 오류가 나는지는 공부해 봐야겠다.. 구글링해도 답이 안나온다..

